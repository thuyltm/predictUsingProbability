install.packages("classInt")
install.packages("BAMMtools")
library("BAMMtools")
data(whales, events.whales)
ed <- getEventData(whales, events.whales, burnin=0.25, nsamples=500)
ed <- dtRates(ed, tau=0.01)
vec <- ed$dtrates$rates[[1]]
library("BAMMtools")
data(whales, events.whales)
ed <- getEventData(whales, events.whales, burnin=0.25, nsamples=500)
ed <- dtRates(ed, tau=0.01)
vec <- ed$dtrates$rates[[1]]
getJenksBreaks(vec, 64)
vec
setwd("/home/thuy1/git/predictUsingProbability/Preprocess/")
mydata = read.csv("Freq_CC-AS_80.csv",header = FALSE,
sep = ",")[,1]
mydata
classIntervals(mydata, n=3, style="jenks")
classIntervals(mydata, n=3, style="jenks")
library("classInt")
plot(classIntervals(mydata, n=3, style="jenks"))
classIntervals(mydata, n=3, style="jenks")
data(jenks71)
jenks71$jenks71
plot(classIntervals(mydata, n=3, style="jenks"), pal=pal1, main="Fixed")
pal1 <- c("wheat1", "red3")
plot(classIntervals(mydata, n=3, style="jenks"), pal=pal1, main="Fixed")
classIntervals(mydata, n=3, style="jenks")
library("BAMMtools")
getJenksBreaks(mydata, 3)
set.seed(357)
x <- data.frame(name = as.factor(sample(letters, 10)), val = runif(10))
x
x <- x[order(x$val), ]
x
library(ggplot2)
ggplot(x, aes(x = name, y = val)) + theme_bw() + geom_bar(stat = "identity")
x$name <- factor(x$name, levels = x$name[order(x$val)])
x$name  # notice the changed order of factor levels
ggplot(x, aes(x = name, y = val)) + theme_bw() + geom_bar(stat = "identity")
setwd("/home/thuy1/git/predictUsingProbability/Preprocess")
count.fields("data.txt", sep = ",")
no_col <- max(count.fields("data.txt", sep = ","))
no_col
dat1=read.table("data.txt", header = FALSE, sep = ",",
col.names = 1:no_col, fill = TRUE)
i=1
for (i in 1:nrow(dat)){
d=dat[i,]
d=d[!is.na(d)]
x=length(d)
cat(paste("..", x, ".."))
#plot(seq(0,23,by=1),d,type='b',col='red',main="Confucius Temple",xlab="Hours",ylab="Numbers of check-in")
png(filename=paste("test", i, ".png", sep = ""))
temp <- plot(1:x, d, type='b', axes=FALSE,xlab = "step", ylab = "length (meters)")
temp <- axis(side=1, at=c(1:x))
temp <- axis(side=2, at=seq(min(d), max(d), by=100))
temp <- box()
print(temp)
dev.off()
}
setwd("/home/thuy1/git/predictUsingProbability/Preprocess")
count.fields("data.txt", sep = ",")
no_col <- max(count.fields("data.txt", sep = ","))
no_col
dat=read.table("data.txt", header = FALSE, sep = ",",
col.names = 1:no_col, fill = TRUE)
i=1
for (i in 1:nrow(dat)){
d=dat[i,]
d=d[!is.na(d)]
x=length(d)
cat(paste("..", x, ".."))
#plot(seq(0,23,by=1),d,type='b',col='red',main="Confucius Temple",xlab="Hours",ylab="Numbers of check-in")
png(filename=paste("test", i, ".png", sep = ""))
temp <- plot(1:x, d, type='b', axes=FALSE,xlab = "step", ylab = "length (meters)")
temp <- axis(side=1, at=c(1:x))
temp <- axis(side=2, at=seq(min(d), max(d), by=100))
temp <- box()
print(temp)
dev.off()
}
setwd("/home/thuy1/git/predictUsingProbability/Preprocess")
count.fields("data.txt", sep = ",")
no_col <- max(count.fields("data.txt", sep = ","))
no_col
dat=read.table("data.txt", header = FALSE, sep = ",",
col.names = 1:no_col, fill = TRUE)
i=1
for (i in 1:nrow(dat)){
d=dat[i,]
d=d[!is.na(d)]
x=length(d)
cat(paste("..", x, ".."))
#plot(seq(0,23,by=1),d,type='b',col='red',main="Confucius Temple",xlab="Hours",ylab="Numbers of check-in")
png(filename=paste("test", i, ".png", sep = ""))
temp <- plot(1:x, d, type='b', axes=FALSE,xlab = "step", ylab = "length (meters)")
temp <- axis(side=1, at=c(1:x))
temp <- axis(side=2, at=seq(min(d), max(d), by=100))
temp <- box()
print(temp)
dev.off()
}
setwd("/home/thuy1/git/predictUsingProbability/Preprocess")
count.fields("data.txt", sep = ",")
no_col <- max(count.fields("data.txt", sep = ","))
no_col
dat=read.table("data.txt", header = FALSE, sep = ",",
col.names = 1:no_col, fill = TRUE)
i=1
for (i in 1:nrow(dat)){
d=dat[i,]
d=d[!is.na(d)]
x=length(d)
cat(paste("..", x, ".."))
#plot(seq(0,23,by=1),d,type='b',col='red',main="Confucius Temple",xlab="Hours",ylab="Numbers of check-in")
png(filename=paste("test", i, ".png", sep = ""))
temp <- plot(1:x, d, type='b', axes=FALSE,xlab = "step", ylab = "length (meters)")
temp <- axis(side=1, at=c(1:x))
temp <- axis(side=2, at=seq(min(d), max(d), by=100))
temp <- box()
print(temp)
dev.off()
}
setwd("/home/thuy1/git/predictUsingProbability/Preprocess/")
mydata = read.csv("CC_AS_Freq.csv",sep = "|",header=FALSE)[ ,1:2]
colnames(mydata) <- c("X1","X2")
mydata
X1=mydata$X1
X1
X2=mydata$X2
X2
mydata$X1 <- factor(mydata$X1, levels = mydata$X1[order(mydata$X2)])
mydata$X1  # notice the changed order of factor levels
library(ggplot2)
ggplot(mydata, aes(x = mydata$X1, y = mydata$X2)) +
theme_bw() + geom_bar(stat = "identity") +
xlab("Thời gian hoàn thành ") +
ylab("Tần số xuất hiện")
qplot(X1,X2,data=mydata,aes(x=X1,y=X2))
ggplot(mydata, aes(X1,X2)) + geom_bar(stat="identity") +
scale_x_continuous(breaks = seq(30, 58, 1),limits=c(30, 58)) +
scale_y_continuous(breaks = seq(1, 214, 7)) +
xlab("Thời gian hoàn thành ") +
ylab("Tần số xuất hiện") +
labs(title = "Tần số thời gian hoàn thành từ BX Củ Chi đến BX An Sương")
ggplot(mydata, aes(X1,X2)) + geom_bar(stat="identity") +
scale_x_continuous(breaks = seq(30, 58, 1),limits=c(30, 58)) +
scale_y_continuous(breaks = seq(1, 214, 7)) +
xlab("Thời gian hoàn thành ") +
ylab("Tần số xuất hiện") +
labs(title = "Tần số thời gian hoàn thành từ BX Củ Chi đến BX An Sương")
repData = read.csv("CC_AS_Rep.csv",header=FALSE)$V1
repData
hist(repData, breaks=seq(30, 58, by=1))
y<-repData
y
hist(y, prob=TRUE, ylim=c(0,.2), breaks=seq(30, 58, by=1),
xlab="Thời gian hoàn thành",
ylab="Xác suất",
main = "Xác suất thời gian hoàn thành từ BX Củ Chi đến BX An Sương")
curve(dnorm(x, mean(y), sd(y)), add=TRUE, col="darkblue", lwd=2)
p = ecdf(y)
plot(p,
xlab = 'Thời gian hoàn thành',
ylab = 'Xác suất tích lũy',
main = 'Xác suất tích lũy thời gian hoàn thành từ BX Củ Chi đến BX An Sương'
)
abline(v = 45, h = 0.83773583,col="red",lwd=2, lty=2)
legend(45, 0.83773583, '84% tại điểm 45', box.lwd = 0)
abline(v = 48, h = 0.9554717,col="blue",lwd=2, lty=2)
legend(48, 0.9554717, '96% tại điểm 48', box.lwd = 0)
hist(y, prob=TRUE, ylim=c(0,.2), breaks=seq(30, 58, by=1),
xlab="Thời gian hoàn thành",
ylab="Xác suất",
main = "Xác suất thời gian hoàn thành từ BX Củ Chi đến BX An Sương")
p = ecdf(y)
plot(p,
xlab = 'Thời gian hoàn thành',
ylab = 'Xác suất tích lũy',
main = 'Xác suất tích lũy thời gian hoàn thành từ BX Củ Chi đến BX An Sương'
)
setwd("/home/thuy1/git/predictUsingProbability/Preprocess/")
mydata = read.csv("Freq_CC-AS_80.csv",header = FALSE,
sep = ",")[,1]
mydata
classIntervals(mydata, n=5, style="jenks")
ggplot(mydata, aes(x = mydata$X1, y = mydata$X2)) +
theme_bw() + geom_bar(stat = "identity") +
xlab("Thời gian hoàn thành ") +
ylab("Tần số xuất hiện")
library(ggplot2)
ggplot(mydata, aes(x = mydata$X1, y = mydata$X2)) +
theme_bw() + geom_bar(stat = "identity") +
xlab("Thời gian hoàn thành ") +
ylab("Tần số xuất hiện")
mydata = read.csv("CC_AS_Freq.csv",sep = "|",header=FALSE)[ ,1:2]
colnames(mydata) <- c("X1","X2")
mydata
X1=mydata$X1
X1
X2=mydata$X2
X2
mydata$X1 <- factor(mydata$X1, levels = mydata$X1[order(mydata$X2)])
mydata$X1  # notice the changed order of factor levels
library(ggplot2)
ggplot(mydata, aes(x = mydata$X1, y = mydata$X2)) +
theme_bw() + geom_bar(stat = "identity") +
xlab("Thời gian hoàn thành ") +
ylab("Tần số xuất hiện")
qplot(X1,X2,data=mydata,aes(x=X1,y=X2))
